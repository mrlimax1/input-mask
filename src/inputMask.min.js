class telephoneMask{static onPhonePaste(e){var t=e.target,a=getInputNumbersValue(t),l=e.clipboardData||window.clipboardData;if(l){var r=l.getData("Text");if(/\D/g.test(r))return void(t.value=a)}}static getInputNumbersValue(e){return e.value.replace(/\D/g,"")}static tel(e){var t=e.target,a=telephoneMask.getInputNumbersValue(t),l=t.selectionStart,r="";if(!a)return t.value="";if(t.value.length==l){if(["7","8","9"].indexOf(a[0])>-1){"9"==a[0]&&(a="7"+a);var n="8"==a[0]?"8":"+7";r=t.value=n+" ",a.length>1&&(r+="("+a.substring(1,4)),a.length>=5&&(r+=") "+a.substring(4,7)),a.length>=8&&(r+="-"+a.substring(7,9)),a.length>=10&&(r+="-"+a.substring(9,11))}else r="+"+a.substring(0,16);t.value=r}else e.data&&/\D/g.test(e.data)&&(t.value=a)}}class inputMask{constructor(e,t="email",a="example@example.ru"){this.type=t,this.el=document.querySelector(e);let l=this.listenerGet();this.el.addEventListener("input",l),this.el.placeholder=a}listenerGet(){switch(this.el.type=this.type,this.type){case"email":return this.el.addEventListener("keydown",this.onMailKeydown),this.mail;case"tel":return this.el.maxLength=18,this.el.addEventListener("keydown",this.onPhoneKeyDown),this.el.addEventListener("paste",this.onPhonePaste,!1),telephoneMask.tel;case"name":return this.name}}mail(e){let t=e.target.selectionStart;e.target.value=e.target.value.replace(" ","");let a=e.target.value;a.split("@").length>1?("@"==a&&(e.target.value=""),a.split("@")[1]&&("@"!=a[a.length-3]&&"."!=a[a.length-1]||(e.target.value=e.target.value.replace(".","")+"."),"@"==a[a.length-2]&&"."==a[a.length-1]&&(e.target.value=a.substring(0,a.length-1)))):(e.target.value=e.target.value.replace("@",""),e.target.value=e.target.value+"@","@"!=a&&""!=a||e.target.value),e.target.selectionStart=t,e.target.selectionEnd=t}name(e){" "==e.target.value[0]&&(e.target.value=e.target.value.replace(" ",""));let t=e.target.selectionStart,a=e.target.value.split(" ");if(a.length>3&&a.pop(),a.length>0)for(let e=0;e<a.length;e++)a[e]&&(a[e]=a[e][0].toUpperCase()+a[e].substring(1),a[e][1]&&(a[e]=a[e][0].toUpperCase()+a[e][1].toLowerCase()+a[e].substring(2)));e.target.value=a.join(" "),e.target.selectionStart=t,e.target.selectionEnd=t}onPhonePaste(e){var t=e.target,a=telephoneMask.getInputNumbersValue(t),l=e.clipboardData||window.clipboardData;if(l){var r=l.getData("Text");if(/\D/g.test(r))return void(t.value=a)}}onPhoneKeyDown(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")}onMailKeydown(e){var t=e.target.value;8==e.keyCode&&1==t.length&&(e.target.value="")}}