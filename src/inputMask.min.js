class telephoneMask{static getInputNumbersValue(e){return e.value.replace(/\D/g,"")}static tel(e){var t=e.target,a=telephoneMask.getInputNumbersValue(t),s=t.selectionStart,n="";if(!a)return t.value="";if(t.value.length==s){if(["7","8","9"].indexOf(a[0])>-1){"9"==a[0]&&(a="7"+a);var l="8"==a[0]?"8":"+7";n=t.value=l+" ",a.length>1&&(n+="("+a.substring(1,4)),a.length>=5&&(n+=") "+a.substring(4,7)),a.length>=8&&(n+="-"+a.substring(7,9)),a.length>=10&&(n+="-"+a.substring(9,11))}else n="+"+a.substring(0,16);t.value=n}else e.data&&/\D/g.test(e.data)&&(t.value=a)}}class inputMask{constructor(e,t,a){this.type=t,this.el=document.querySelector(e);let s=this.listenerGet();this.el.addEventListener("input",s),this.el.placeholder=a}listenerGet(){switch(this.el.type=this.type,this.type){case"email":this.el.addEventListener("paste",this.onMailPaste);case"tel":return this.el.maxLength=18,this.el.addEventListener("keydown",this.onPhoneKeyDown),this.el.addEventListener("paste",this.onPhonePaste,!1),telephoneMask.tel;case"name":return this.name}}name(e){" "==e.target.value[0]&&(e.target.value=e.target.value.replace(" ",""));let t=e.target.selectionStart,a=e.target.value.split(" ");if(a.length>3&&a.pop(),a.length>0)for(let e=0;e<a.length;e++)a[e]&&(a[e]=a[e][0].toUpperCase()+a[e].substring(1),a[e][1]&&(a[e]=a[e][0].toUpperCase()+a[e][1].toLowerCase()+a[e].substring(2)));e.target.value=a.join(" "),e.target.selectionStart=t,e.target.selectionEnd=t}onMailPaste(e){var t=e.clipboardData||window.clipboardData;if(t){var a=t.getData("Text");if(/.+@.+\..+/i.test(a))return;e.preventDefault()}}onPhonePaste(e){var t=e.target,a=telephoneMask.getInputNumbersValue(t),s=e.clipboardData||window.clipboardData;if(s){var n=s.getData("Text");if(/\D/g.test(n))return void(t.value=a)}}onPhoneKeyDown(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")}}export{inputMask};